---
layout: post
title: 2.IO
tags: [Linux]
comments: 1
typora-root-url: ..
---

`echo`、`print`、`cat`、`tee` 等IO相关的命令的笔记。

## echo

echo - display a line of text

```shell
# 打印变量
echo "$PATH"
# 不打印变量
echo '$PATH'
```

## printf  (placeholder string)

Formats and prints ARGUMENTS under control of the FORMAT. 调整格式

```shell
# 打印 withou newline
$  printf xxx
xxx $
```

```shell
# 调整格式
$ printf '%s\n%s\n' "str1" "str2"
str1
str2
$ printf "%20s %d\n" "xxx"
      xxx
```

## cat

Concatenate FILE(s) to standard output.

```shell
$ cat ${file_1} ${file_2}
```

## tee 

Copy standard input to each FILE, and also to standard output.  输出正常流到文件，并但因错误信息。

输出并**覆盖**文件：

```shell
$ 标准输出 | tee ${文件名}
```

打印并**追加**文件：

```shell
$ 标准输出 | tee --append  ${文件名}
```

同时操作**多个**文件：

```shell
$ 标准输出 | tee --append  ${文件名-a} ${文件名-b}
# echo test | tee - a fileA.txt fileb.txt
```

**当出现错误***信息：

```shell
$ ls ./null.txt | tee ./haha
ls: cannot access './null.txt': No such file or directory
$ echo $?
0
$ cat ./haha

```

**保存错误**信息:

```shell
$ ls ./null.txt 2>&1 | tee ./error
ls: cannot access './null.txt': No such file or directory
$ cat ./error 
ls: cannot access './null.txt': No such file or directory
```

## 箭头

右箭头的内容可参考 [bash man](https://www.man7.org/linux/man-pages/man1/bash.1.html) 的 <u>Redirecting Output</u> 和 <u>Appending Redirected Output</u> 。

左箭头则参考 <u>Here Documents</u> ，意味着将文件内容作为`cat`的Input。

### 覆盖

将文件内容覆**盖到**指定文件：

```shell
cat << EOF > 文件路径
# 文件内容
EOF
```

### 追加

将文件内容**追加**到指定文件：

```shell
cat << EOF >> 文件路径
# 文件内容
EOF
```

### 异常流和正常流

```shell
# 分别保存异常和正常信息
command > ${正常信息存储文件} 2>${错误信息存储文件}

# 保存正常与异常信息至 同一 文件
command &> ${正常+错误信息的存储文件}

# 保存正常信息，打印错误信息
command >${正常信息存储文件} 2>&1

# 丢失正常信息，打印错误信息
command >/dev/nul 2>&1
```

- https://askubuntu.com/questions/625224/how-to-redirect-stderr-to-a-file

## 特殊场景


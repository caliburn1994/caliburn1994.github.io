---

layout: post
title: 表结构分析
date: 2019-05-03 00:00:01
categories: 计算机
tags: 设计思想,数据库
comments: 1
excerpt: 数据库的表是怎么样的一个东西？
typora-root-url: ..
---

## 博主生活

来日本的一个半月时间，虽然代码没有打太多，但是从代码的编写和测试部分学到一些道理。

## 一维、二维、三维

在以前的文章中<[配置文件-ini-yaml-toml-json-xml等比较](/配置文件-ini-yaml-toml-json-xml等比较)>，博主稍微讲述了一些数据是可以分为一维(单纯的key-value)、二维(key-value,value可为对象)和三维(key属性-key-value,key可为数组)，xml的强大正因为它拥有了三维。而今天，博主想展开类似的话题——数据库的数据多维性。

**非关系型数据库(NoSQL)**的表是由行、列（数组）组成。每一行的每个单元由属性和数据组成。某种程度上，非关系数据库也是三维的，但是由于z是固定值，不可以扩展。因此博主将此定义为二维的。

![1556650128149](/../assets/blog_res/1556650059140.png)

**关系数据库**（Relational database）的表由行、列和默认模板组成，对应上文的二维。人们可以随机添加行和列，但是很难操作默认模板。默认模板并非不可操作，只是这种操作是窄小的。在关系数据库中，这种模板体现为：类型(string、integer/float)、键(主键外键、组合键)、触发器等。相对NoSQL而言，关系数据库具有较强的扩展性，但是z轴并非是完全自由的。

![1556650282280](/../assets/blog_res/1556650282280.png)

1. 上层应用与DB应用的类型并非一一对应。上层应用为了满足自己需求，必须开辟一个地方存储这些数据，以便检查等。
2. 上层应用难以对DB功能进行操作。
   - 修改DB功能没必要。上层应用的功能与DB功能并非一一对应（第一条提及），而上层应用修改DB功能往往是为了上层应用自身，也就是不一定真需要对DB的功能进行修改，只要上层能体现出来被修改的效果即可。（下文将提及，DB功能被当作数据存储起来）

![1556678900476](/../assets/blog_res/1556678900476.png)

综上所述，关系数据库自身是三维的，但是DB功能过于僵化无法扩展，以至于难以与上层应用连接。（暂且称这种三维叫伪三维吧）

而为了服务上层应用，我们需要真三维。两张表，（1）张是记载具体的数据，（2）张是记载描述（1）表的信息。


---
layout: post
title: 接口设计浅谈
date: 2018-10-23 00:00:00
categories: 计算机
tags: 设计思想
comments: 1
typora-root-url: ../..
---




设计者和使用者的关系：

## 扁平关系

如：前端和后端的关系，属于合作关系，可以使用接口文档。

![1540227488783](/assets/blog_res/1540227488783.png)



此处接口文档的作用。

- 解耦。即，后端不会因为前端变化而变化，前端不会因后端变化而变化。
- 前后端为合作关系，可以共同编写API。（共同编写需求）

## 层次关系

如基础代码和业务代码，hibernate和你的代码。

![1540229827247](/assets/blog_res/1540229827247.png)

基础代码和业务代码常常是1：n的关系。因此基础代码无法照顾到所有业务代码。

此时可以进行的优化：

- 基础代码不断添加新的接口。（基础代码会改动）

- 业务代码对基础代码进行二次封装。（基础代码不会改动）

  ![1540261641737](/assets/blog_res/1540261641737.png)

前者强调接口使用者与制作者之间，需要有充分的沟通。（封装权力仍在接口设计方）

后者，则强调将代码封装的权力转移至接口使用方。


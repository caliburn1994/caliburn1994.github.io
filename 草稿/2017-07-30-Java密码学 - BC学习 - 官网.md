---
layout: post
title: Java密码学 - BC学习 - 官网
date: 2017-07-30 22:10:53
categories: 计算机
tags: 安全 
comments: 1
---

﻿在bouncy castle的官网的左浏览框, 我们看到[wiki](https://www.bouncycastle.org/wiki), 点击后, 发现有Java API 1和API 2 ,通过阅读introduce

> The Version 2 APIs are a result of us having to work around the idiosyncrasies of multiple providers as well as trying to find ways to accommodate some of the newer cryptography APIs that are appearing for small devices. These are often not JCE/JCA provider based, and are generally targeted to specific functionality. Requests for this kind of functionality have been increasing in respect to the lightweight APIs as well, largely due to the market evolving from the devices with single threaded VMs and a 32k footprint of 10 years ago to substantially larger and fully featured VMs we have today.
>
> Broadly speaking the Version 2 APIs are built around the idea of operators, which are interfaces that provide specific types of cryptographic functionality. CMS, CRMF, CMP, TSP, and OCSP messages, to name but a few, as well as certificates, can then be built by providing the appropriate operators to meet the requirements of the protocol.
>
> The result of this is that it is now possible to create things like certificates and CMS messages using the BC lightweight API, and this document is meant to provide some help in seeing how that is done.
>
> For the purposes of the final 1.* release of BC, version 1.46, the version 2 APIs are included in the bcmail package. From 1.47, the version 2 APIs are in the pcpkix packages, and bcmail now only contains the S/MIME package.



知道以下内容

1. 1.47以后就是API 2
2. API 2是为了更轻量化 , 同时也是为了运营机构
3. API 2包括的包主要为 pcpkix  ,其次 S/MIME 只包含bcmail (这里分类有点不懂其分类标准)



上introduction , 以下接下的一个小小的代码示例, 我们大致可以了解到, 这个wiki是偏向与pcpkix的介绍以及简单的使用方式



[Frequently Asked Questions](http://www.bouncycastle.org/wiki/display/JA1/Frequently+Asked+Questions)介绍了一些内容

至于示例, 我们可以通过IDEA的搜索功能, ctrl+shift+F 在package里搜索关键词example, 就可以搜到一些, 不过有些示例有点不简洁, 或者说, 不好操作, 比如

```
cipher = new PaddedBufferedBlockCipher(new CBCBlockCipher(new DESedeEngine()));
```

和我们网上找到的例子相比

```
 Cipher cipher = Cipher.getInstance("DESede/ECB/PKCS5Padding");
```

相差太大.

DES example的代码量就长达420行,   也是太多了



结论 :  我们只能结合地使用, 不能完完全全以官方example为标准.

---

另外, 还有

[Porting from earlier BC releases to 1.47 and later](http://www.bouncycastle.org/wiki/display/JA1/Porting+from+earlier+BC+releases+to+1.47+and+later) 一些版本升级带来的变化, 如旧代码无法在新jar包里运行, 因为类名被修改.  这一点, 没自动化工具进行提醒 ,也是很不方便



其他部分, 有的是没能力, 有的是没什么特别``` 就这样吧






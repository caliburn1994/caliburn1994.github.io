---
layout: post
title: bash脚本
date: 2019-03-15 00:00:01
comments: 1
excerpt: 在使用bash脚本将近一个月后的一点点感想。
typora-root-url: ..
---



在日本现场工作的一个月内，我们项目组一直使用者bash脚本进行编程，由此产生了一些感悟。现场使用bash作为开发语言的原因是“杀猪不用牛刀”，不想使用JAVA等重型语言以及框架进行开发。这当中有好有坏。

## 语言优势

bash脚本和Linux系统是紧密结合的，当我们面向的编程对象是Linux系统内部对象，bash脚本是一个最优方案。在Web上具有优势的Java，在业务仅需与数据库、Linux进行交互，显得难以使用。因为Java封装的层数过高，导致封装后的知识与Linux、数据库的知识产生一定偏差，所以导致Java在这些方面难以使用。


数据库+文件系统操作，重性（静态）语言的劣势：

- 重型（静态）语言往往需要编译，才能生成可执行代码。（时间消耗）
- SQL的相对高级的用法、SQL的重构、文件系统之间的交互上，重型语言都型得十分繁琐。原因：
  - 文件系统等操作依赖函数。
  - 函数封装层数过高，代码（如：Java函数）和服务器原生操作（shell/bash命令）无法同步效果。（如，读取文件系统信息时，面向对象语言（OOP）会将文件系统信息全部读进对象中，shell/bash脚本则是直接用CLI获取信息。一旦OOP中出现问题，往往就需要去网上找答案然后再使用Linux terminal去测试。这种迂回的方式，还不如直接用shell）

![1552712883405](/../assets/blog_res/%5CUsers%5Ccxx%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1552712883405.png)

![1552713198826](/../assets/blog_res/1552713198826.png)

顺便一提*PostgreSQL*的内置命令[meta commandsl](https://www.postgresql.org/docs/9.2/app-psql.html)大部分的数据库应用都不支持，因此为了使用meta commands，我们也常常需要使用Linux的terminal。bash该语言在这一方面的优秀就更能体现得出。

<br>

## 语言劣势

### 1.可读性弱

面向对象的一个优点是，他们与互联网连接得很紧密。bash脚本在该点上就显得费劲。

bash脚本上充斥着符号，在搜索引擎上是难以搜索的。因此当一个新人去阅读别人的代码时，就会充满着疑惑，当搜索引擎也难以回答他/她的疑惑。这时候往往需要去通读一些资料或者有人带。

### 2.仅仅适合规模小的开发

**变量**

bash中仅仅存在全局变量（无变量名）和局部变量（local），默认情况下使用的是全局变量，从中我们也可以看出一些端倪，当全局变量多时，就容易出现隐患。

**函数**





因为shell不存在

- 类似java的包（package）功能，所以它的函数管理是极度缺乏
- 函数均为全局，不存在类似重型语言的可见度区别（private、protected、public等概念）

，因此难以开发调用距离比较远的工程。（适合扁平化的工程，调用距离小，关系简单）